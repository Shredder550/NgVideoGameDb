{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/http.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/select\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/material/core\";\n\nfunction HomeComponent_ng_container_0_ng_container_21_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 19);\n  }\n\n  if (rf & 2) {\n    const game_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", game_r2.background_image, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomeComponent_ng_container_0_ng_container_21_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No image\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_ng_container_0_ng_container_21_img_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n\n  if (rf & 2) {\n    const gamePlatform_r7 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/images/platforms/\", gamePlatform_r7.platform.slug, \".svg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", gamePlatform_r7.platform.slug);\n  }\n}\n\nfunction HomeComponent_ng_container_0_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_0_ng_container_21_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const game_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.openGameDetails(game_r2.id);\n    });\n    i0.ɵɵelementStart(2, \"div\", 13);\n    i0.ɵɵtemplate(3, HomeComponent_ng_container_0_ng_container_21_img_3_Template, 1, 1, \"img\", 14);\n    i0.ɵɵtemplate(4, HomeComponent_ng_container_0_ng_container_21_p_4_Template, 2, 0, \"p\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 15)(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵtemplate(9, HomeComponent_ng_container_0_ng_container_21_img_9_Template, 1, 2, \"img\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const game_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", game_r2.background_image);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !game_r2.background_image);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(game_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", game_r2.parent_platforms);\n  }\n}\n\nfunction HomeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"mat-form-field\")(3, \"mat-label\");\n    i0.ɵɵtext(4, \"Sort\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-select\", 2);\n    i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_ng_container_0_Template_mat_select_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.sort = $event;\n    })(\"selectionChange\", function HomeComponent_ng_container_0_Template_mat_select_selectionChange_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.searchGames(ctx_r12.sort);\n    });\n    i0.ɵɵelementStart(6, \"mat-option\", 3);\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-option\", 4);\n    i0.ɵɵtext(9, \"Released\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-option\", 5);\n    i0.ɵɵtext(11, \"Added\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"mat-option\", 6);\n    i0.ɵɵtext(13, \"Created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"mat-option\", 7);\n    i0.ɵɵtext(15, \"Updated\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-option\", 8);\n    i0.ɵɵtext(17, \"Rating\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"mat-option\", 9);\n    i0.ɵɵtext(19, \"Metacritic\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(20, \"div\", 10);\n    i0.ɵɵtemplate(21, HomeComponent_ng_container_0_ng_container_21_Template, 10, 4, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.sort);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.games);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(httpService, router, activatedRoute) {\n      this.httpService = httpService;\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n    }\n\n    ngOnInit() {\n      this.routeSub = this.activatedRoute.params.subscribe(params => {\n        if (params['game-search']) {\n          this.searchGames('metacrit', params['game-search']);\n        } else {\n          this.searchGames('metacrit');\n        }\n      });\n    }\n\n    searchGames(sort, search) {\n      this.gameSub = this.httpService.getGameList(sort, search).subscribe(gameList => {\n        this.games = gameList.results;\n        console.log(gameList);\n      });\n    }\n\n    openGameDetails(id) {\n      this.router.navigate(['details', id]);\n    }\n\n    ngOnDestroy() {\n      if (this.gameSub) {\n        this.gameSub.unsubscribe();\n      }\n\n      if (this.routeSub) {\n        this.routeSub.unsubscribe();\n      }\n    }\n\n    isObject(value) {\n      return typeof value === 'object';\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"filters\"], [\"panelClass\", \"sort-select\", 3, \"ngModel\", \"ngModelChange\", \"selectionChange\"], [\"value\", \"name\"], [\"value\", \"-released\"], [\"value\", \"-added\"], [\"value\", \"-created\"], [\"value\", \"-updated\"], [\"value\", \"-rating\"], [\"value\", \"metacritic\"], [1, \"games\"], [4, \"ngFor\", \"ngForOf\"], [1, \"game\", 3, \"click\"], [1, \"game-thumb-container\"], [\"alt\", \"thumbnail\", \"class\", \"game-thumbnail\", 3, \"src\", 4, \"ngIf\"], [1, \"game-description\"], [1, \"game-name\"], [1, \"game-platforms\"], [\"class\", \"game-platform\", 3, \"src\", \"alt\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"thumbnail\", 1, \"game-thumbnail\", 3, \"src\"], [1, \"game-platform\", 3, \"src\", \"alt\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, HomeComponent_ng_container_0_Template, 22, 2, \"ng-container\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isObject(ctx.games));\n      }\n    },\n    directives: [i3.NgIf, i4.MatFormField, i4.MatLabel, i5.MatSelect, i6.NgControlStatus, i6.NgModel, i7.MatOption, i3.NgForOf],\n    styles: [\".filters[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding-left:20px}  .mat-form-field-infix{background-color:#3f51b5}  .mat-select-value,   .mat-select-arrow,   .mat-form-field-hide-placeholder .mat-select-placeholder,   .mat-form-field-appearance-legacy .mat-form-field-label{color:#fff!important;opacity:1}  .mat-form-field-infix{border-color:#fff!important;border-top:none;padding-left:5px!important}  .mat-form-field-appearance-legacy .mat-form-field-label{padding-left:5px}  .mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#fff!important}.games[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;max-width:1200px;margin:20px auto}.game[_ngcontent-%COMP%]{width:280px;margin:10px;height:330px;overflow:hidden;border-radius:5px;background-color:#202020;box-shadow:4px 3px 8px #c8982c38;transition-duration:.3s;cursor:pointer}.game[_ngcontent-%COMP%]:hover{box-shadow:4px 3px 11px 6px #c8982c75;transform:translateY(-3px)}.game-thumb-container[_ngcontent-%COMP%]{background-color:#000;position:relative;height:172px;color:#fff;text-align:center}.game-thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:0 auto;height:172px}.game-description[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:flex-end;height:157px}.game-name[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:22px;margin-bottom:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.game-platforms[_ngcontent-%COMP%]{display:flex}.game-platform[_ngcontent-%COMP%]{width:20px;margin-right:10px}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}